extends ./layout_patient

block content
  .container.mt-4
    h1.mb-4.text-primary Horarios disponibles

    p
      strong Fecha seleccionada:
      |  #{date}

    if slots.length === 0
      .alert.alert-warning.mt-3 No hay horarios disponibles para esta especialidad en esta fecha.

      a.btn.btn-secondary.mt-3(href="/patient/reservar-ficha") ← Volver

    else
      table.table.table-striped.table-bordered.mt-3
        thead.table-dark
          tr
            th Hora
            th Estado
            th Acción
        tbody
          each slot in slots
            tr
              td= slot.time

              if slot.isAvailable
                td.text-success Disponible
                td
                  a.btn.btn-success.btn-sm(href=`/patient/reservar/${slot.id}`) Reservar
              else
                td.text-danger Ocupado
                td
                  button.btn.btn-secondary.btn-sm(disabled) No disponible

      a.btn.btn-primary.mt-4(href="/patient/nueva-ficha") ← Volver